######
#     #    ##     #####    ##    #####   #    #   ####
#     #   #  #      #     #  #   #    #  #    #  #
#     #  #    #     #    #    #  #####   #    #   ####
#     #  ######     #    ######  #    #  #    #       #
#     #  #    #     #    #    #  #    #  #    #  #    #
######   #    #     #    #    #  #####    ####    ####

#     #
##   ##   ####   #####
# # # #  #    #  #    #
#  #  #  #    #  #    #
#     #  #    #  #    #
#     #  #    #  #    #
#     #   ####   #####

#######
#     #  #    #   #####   ####   #        ####    ####    #   #
#     #  ##   #     #    #    #  #       #    #  #    #    # #
#     #  # #  #     #    #    #  #       #    #  #          #
#     #  #  # #     #    #    #  #       #    #  #  ###     #
#     #  #   ##     #    #    #  #       #    #  #    #     #
#######  #    #     #     ####   ######   ####    ####      #

# EARLY DRAFT

@prefix mod: <http://dataid.dbpedia.org/ns/mod.ttl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix prov: <http://www.w3.org/ns/prov#> . 
@prefix sh: <http://www.w3.org/ns/shacl#>.


mod:DatabusMod a owl:Class ; a sh:NodeShape ;
	rdfs:subClassOf prov:Activity ;
	rdfs:label "Databus Mode" ;
	rdfs:comment "Activities that used individual Databus files or whole version/group/publisher-level collections to generate summaries, ratings, detailed statistics, error reports, enrichments or anything else really. Modding activities don't create new datasets, they are triggered, when new data is available and generate useful stats and add-ons. " ;
	# SHACL Class Target 
	sh:targetClass mod:DatabusMod ;
	sh:property [
		sh:path prov:endedAtTime ;
		sh:minCount 1 ;
		sh:maxCount 1 ;
	] ;
	sh:poperty [
		sh:path prov:generated ;
		sh:minCount 2 ;	
	] ;
	sh:poperty [
		sh:path prov:used ;
		sh:minCount 1 ;
	] .
#	sh:sparql [
#		a sh:SPARQLConstraint ;   # This triple is optional
#		sh:message "Form a triangle with the html, svg results, databus ids and avtivity" ;
#		sh:select """
#			SELECT $this (ex:germanLabel AS ?path) ?value
#			WHERE {
#				$this ex:germanLabel ?value .
#				FILTER (!isLiteral(?value) || !langMatches(lang(?value), "de"))
#			}
#			""" ;

	
mod:Summary a owl:Class ;
    rdfs:subClassOf prov:Entity ;
    rdfs:label "Summary" ; 
	rdfs:label "A summarising file generated by the activity, derived from the origin, e.g. a paragraph, an AVG stat or a small image of the activity. Subclasses should be used to describe the exact type of the summary." .

mod:SVG_Summary a owl:Class ;
	rdfs:subClassOf prov:Entity ;
	rdfs:subClassOf mod:Summary ;
	rdfs:label "SVG Summary" ;
	rdfs:comment "Concise SVGs to summarize the result of the activity such as 'Build Passing', '5 Errors found' " .

mod:HTML_Summary a owl:Class ;
	rdfs:subClassOf prov:Entity ;
	rdfs:subClassOf mod:Summary ;
	rdfs:label "HTML Summary" ;
	rdfs:comment "Concise HTML snippet to summarize the result of the activity such as 'Build Passing', '5 Errors found' " .
	
mod:Statistics a owl:Class ;
	rdfs:subClassOf prov:Entity ;
	rdfs:label "Statistics" ;
	rdfs:comment "Detailed statistics, any format, e.g. tsv, rdf, xml." .

mod:Enrichment a owl:Class ;
	rdfs:subClassOf prov:Entity ;
	rdfs:label "Enrichment" ;
	rdfs:comment "A newly generated file that enriches the orginal entity, e.g. links or new types. " .
	
mod:summaryDerivedFrom a owl:ObjectProperty ;
  rdfs:subPropertyOf prov:wasDerivedFrom ;
  rdfs:domain mod:Summary ; 
  # rdfs:range sth. sth. databus 
  rdfs:label "summary of" ;
  rdfs:comment "Any resource derived from the file/version summarizing results. NOTE: for detailed reporting please use Statistics" .

mod:svgDerivedFrom a owl:ObjectProperty ;
  rdfs:subPropertyOf prov:wasDerivedFrom ;
  rdfs:subPropertyOf mod:summaryDerivedFrom ;
  rdfs:domain mod:SVG_Summary ; 
  # rdfs:range sth. sth. databus 
  rdfs:label "summary svg file derived from" ;
  rdfs:comment "A small SVG derived from the file/version summarizing results." .

mod:htmlDerivedFrom a owl:ObjectProperty ;
  rdfs:subPropertyOf prov:wasDerivedFrom ;
  rdfs:subPropertyOf mod:summaryDerivedFrom ;
  rdfs:domain mod:HTML_Summary ; 
  # rdfs:range sth. sth. databus 
  rdfs:label "summary html file derived from" ;
  rdfs:comment "A short HTML snippet derived from the file/version summarizing results." .
 

mod:statisticsDerivedFrom a owl:ObjectProperty ;
  rdfs:subPropertyOf prov:wasDerivedFrom ;
  rdfs:domain mod:Statistics ; 
  # rdfs:range sth. sth. databus 
  rdfs:label "statistic derived from" ;
  rdfs:comment "Any detailed statistical resource (tsv, rdf, xml) derived from the file/version." .
	
mod:enrichmentDerivedFrom a owl:ObjectProperty ;
  rdfs:subPropertyOf prov:wasDerivedFrom ;
  rdfs:domain mod:Enrichment ; 
  # rdfs:range sth. sth. databus 
  rdfs:label "enrichment derived from" ;
  rdfs:comment "Any resource (tsv, rdf, xml) providing an enrichment of the file/version." .

mod:statSummary a owl:DatatypeProperty ;
  rdfs:domain mod:DatabusMod ; 
  # rdfs:range sth. sth. databus 
  rdfs:label "stat summary" ;
  rdfs:comment "main summary stat of the mod activity like an overall rating. Please create an rdfs:subPropertyOf describing the method for the value. " .
 
       
